The following series of command must be ran from the `$EIAB_DIR`:

```bash
cd $EIAB_DIR
```

Log into the **control** node.

```bash
vagrant ssh control
```

Once inside the VM, the following series of command must be ran from the `/vagrant`:

Then type:

```bash
cd /vagrant
```

Once inside the **/vagrant** directory perform a directory listing. You should see something similar 
to the following:

```bash
ls -l 
drwxr-xr-x.  1 vagrant vagrant  544 Dec  2 05:33 .
dr-xr-xr-x. 18 root    root     239 Dec  2 05:27 ..
drwxr-xr-x.  1 vagrant vagrant  408 Aug 29 23:02 ansible
-rw-r--r--.  1 vagrant vagrant  175 Dec  2 05:29 Brewfile
-rw-r--r--.  1 vagrant vagrant  133 Aug 19 07:25 .editorconfig
drwxr-xr-x.  1 vagrant vagrant  510 Dec  2 01:07 .git
-rw-r--r--.  1 vagrant vagrant   29 Aug 25 19:11 .gitignore
-rw-r--r--.  1 vagrant vagrant 2621 Sep  2 06:29 Makefile
drwxr-xr-x.  1 vagrant vagrant  238 Nov 25 00:20 mkdocs
drwxr-xr-x.  1 vagrant vagrant  204 Dec  2 01:12 packer
-rw-r--r--.  1 vagrant vagrant 2505 Jul 28 23:44 readme.md
-rw-r--r--.  1 vagrant vagrant  346 Aug 19 05:53 research.md
-rw-r--r--.  1 vagrant vagrant 2440 Aug 19 05:53 services.md
-rw-r--r--.  1 vagrant vagrant  352 Aug 20 10:58 temp.md
drwxr-xr-x.  1 vagrant vagrant  102 Aug 19 06:17 .vagrant
-rw-r--r--.  1 vagrant vagrant 1323 Dec  2 05:26 Vagrantfile
```

The content may not exactly match the example above, but the important thing is that
you should see the project files.


The following series of command must be ran from the `/vagrant/ansible` directory:

```bash
cd /vagrant/ansible
```

### Clock

Configure the clock via the [Network Time Protocol](http://www.ntp.org).  This will fix 
clock skew errors.

```bash
make control-node-ntp
```

### Ansible roles

Install any required third party roles from [Ansible Galaxy](https://galaxy.ansible.com).

```bash
make control-node-roles
```

!!! warning
    Forgot what this is for.

### UserShellD

Install the [UserShellD](../tools/usershelld) framework.

```
make control-node-usershelld
```

This framework provides a linux style **.d** directories that helps with development work
and automation tasks.

### SSH

Configure the [SSH](../tools/ssh) utilities.

```
make control-node-ssh
```

This will:

- Install a **ssh-agent** lifecycle management scripts.
- Generate the ssh keypair with the `There and back again!` as the passphrase
- Import the remote host fingerprints from all the nodes in the architecture

!!! note
    To properly enable the SSH agent functionality, log out of the control node
    and log back in.

Then you'll need to add your generated key to the cache:

```bash
ssh-add ~/.ssh/id_rsa
# Enter the passphrase from above
```

!!! note
    You'll need repeat this step if the agent is restarted

You can check the key by:

```bash
# for private keys
ssh-add -l
# for public keys
ssh-add -L
```

### GPG

Install the [Gnu Privacy Guard](../tools/gpg) (GPG) utilities, and a few other packages 
required for this guide.

```bash
make control-node-gpg
```

After installation you can open a terminal and type:

```bash
gpg --version
```

!!! note
    To properly enable the GnuPG agent functionality, log out of the control node
    and log back in.

You should see something similar to the following.

```bash
gpg (GnuPG) 2.0.22
libgcrypt 1.5.3
...
...
...
```

Help generate some random entropy for key generation.  

!!! note
    This step is mainly required to generate entropy while running inside a VM.  This shouldn't 
    be necessary when running on a physical computer.


```bash
sudo rngd -r /dev/urandom
```

Then generate a key:

```bash
gpg --gen-key
```

Using the following parameters:

- Key type: `1` for the **RSA and RSA (default)** option
- Key length: `4096`
- Expire Date: `0` for the **key does not expire** option
- Is this correct?: `y`
- Real name: `Bilbo Baggins`
- Email: `bilbo@shire.vil`
- Comment: `<enter>` (leave blank)
- Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit?: `o` for the **(O)kay** option
- Passphrase: `There and back again!`

After the key generation is complete, view the key:

```bash
gpg --list-keys
# or
gpg -k
```

which should display something similar to the following:

```bash
/home/vagrant/.gnupg/pubring.gpg
--------------------------------
pub   4096R/C00B50B8 2017-12-02
uid                  Bilbo Baggins <bilbo@shire.vil>
sub   4096R/45FB4738 2017-12-02
```

<!-- Configure your subkeys:

```bash
gpg --expert --edit-key bilbo@shire.vil
```

Remove the autogenerated subkey:

```bash
list
# there should on by one subkey
key 1
# to select the key
list
# the key should be marked with a '*'
delkey
# You may need to enter your passphrase at this point
```

The select `y` to complete. Now add an authentication subkey:

```bash
addkey
# You may need to enter your passphrase at this point
```

- Key type: `8` for the **RSA (set your own capabilities)** option
- Configure the following options: 
    - `s` to disable the sign capability
    - `e` to disable the encrypt capability
    - `a` to enable the authenticate capability
- `q` to quit the capabilitiy editor
- Key length: `4096`
- Expire Date: `0` for the **key does not expire** option
- Is this correct?: `y`
- Really create?: `y`
- `quit` and save changes -->


